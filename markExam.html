<!DOCTYPE html>
<html lang="en">

<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <meta http-equiv="X-UA-Compatible" content="ie=edge">
    <title>Mark Exam</title>
    <link rel="stylesheet" href="https://fonts.googleapis.com/css?family=Open+Sans:300,400,600">
    <!-- https://fonts.google.com/specimen/Open+Sans -->
    <link rel="stylesheet" href="css/fontawesome.min.css">
    <!-- https://fontawesome.com/ -->
    <link rel="stylesheet" href="css/bootstrap.min.css">
    <!-- https://getbootstrap.com/ -->
    <link rel="stylesheet" href="css/tooplate.css">
    <link rel="stylesheet" href="css/style.css">
</head>

<body id="markExamPage">
    <div class="container">
        <!-- Dashboard -->
        <div class="row">
            <div class="col-12">
                <nav class="navbar navbar-expand-xl navbar-light bg-light">
                    <a class="navbar-brand" href="index.html">
                        <i class="fas fa-3x fa-tachometer-alt tm-site-icon"></i>
                        <h1 class="tm-site-title mb-0">Dashboard</h1>
                    </a>
                    <button class="navbar-toggler ml-auto mr-0" type="button" data-toggle="collapse" data-target="#navbarSupportedContent" aria-controls="navbarSupportedContent"
                        aria-expanded="false" aria-label="Toggle navigation">
                        <span class="navbar-toggler-icon"></span>
                    </button>

                    <div class="collapse navbar-collapse" id="navbarSupportedContent">
                        <ul class="navbar-nav mx-auto">
                            <li class="nav-item">
                                <a class="nav-link" href="index.html">Dashboard
                                    <span class="sr-only">(current)</span>
                                </a>
                            </li>
                            <li class="nav-item">
                                <a class="nav-link" href="modifyAccount.html">Modify Details</a>
                            </li>
                        </ul>
                        <ul class="navbar-nav">
                            <li class="nav-item">
                                <a class="nav-link d-flex" href="index.html">
                                    <i class="far fa-user mr-2 tm-logout-icon"></i>
                                    <span>Logout</span>
                                </a>
                            </li>
                        </ul>
                    </div>
                </nav>
            </div>
        </div>

        <!-- Mark Header -->
        <div class="row" style="margin-top: 1%;">
            <!-- Header -->
            <div class="col-12 ">
                <div class="row align-items-end markHeader ">
                    <div class="col-6 text-center" style="border-right: 2px solid #ccc;">
                        <h2 class="tm-block-title d-inline-block">Trainee's Attempt</h2>
                    </div>
                    <div class="col-6 text-center">
                        <h2 class="tm-block-title d-inline-block">Mark Scheme</a>
                    </div>
                </div>
            </div>
        </div>

        <!-- Trainee answer and mark scheme content -->
        <div class="row flex-fill" style="height: 80vh">
                    
            <!-- Trainee answer attempt left side content -->
            <div class="col-6 border mh-100 bg-light scrollable">
                <div class="">
                    <div class="tm-block">
                        <div class="col">
                            <h2 class="tm-block-title d-inline-block">Questions</h2>
                            <p>Trainee: </p>
                            <p>Attempt:<p>
                               
                            <div class = "questionList">
                            </div>
                        </div>
                        
                    </div>
                </div>

            </div>            

            <!-- Mark scheme right side content -->
            <div class="col-6 border mh-100 bg-light scrollable">
                <div class="">
                    <div class="tm-block">
                        <div class="col">
                            <h2 class="tm-block-title d-inline-block">Answers</h2>
                            
                            <div class = "answerList">
                            </div>
                        </div>
                    </div>
                </div>
            </div>

        </div>

        

        <footer class="row tm-mt-small">
            <div class="col-12 font-weight-light">
                <p class="d-inline-block tm-bg-black text-white py-2 px-4">
                    Copyright &copy; 2022 QMUL SE Project Group 19
                </p>
            </div>
        </footer>
    </div>

    <!-- Javascript-->
    <script>

        class Trainee {
            constructor(id){
                this.traineeId = id;
                this.traineeAnswers; // attempt
            }
            
            //Add attempt
            addAttempt(attempt){
                this.traineeAnswer += attempt;
            }
        }

        class Exam {
            constructor(id, questionsIDList, examDuration){
                this.examID = id; // int
                this.questionIDs = questionsIDList; // int[]
                this.examDuration = examDuration; // int in minutes?
            }

            // Add question
            
        }

        class Question {
            constructor(id, content, markValue, markSchemeID){ // Possible parameters for MarkScheme together
                this.questionID = id; // int
                this.questionContent = content; // String
                this.markValue = markValue; // int
                this.markSchemeID = markSchemeID; // int
            }
        }

        class MarkScheme {
            constructor(id, correctAnswer){
                this.markSchemeID = id; // int
                this.contentAnswer = correctAnswer; // String
            }
        }

        function printQuestions(questionArray, traineeAnswer, questionDisplay){
            for (let i=0; i <questionArray.length; i++){
                text = 
                `<div class="attemptQuestion">
                    <div class="attemptHeader row">
                        <div class="questionTitle col-sm-9">${i+1}. ${questionArray[i].questionContent}</div>
                        <div class="questionValue col-sm-3">[${questionArray[i].markValue} mark]</div>
                    </div>
                    
                    <div class="attemptAnswer">
                        <div>
                            <p>Trainee answer: ${traineeAnswer[i]}</p>
                        </div>
                    </div>
                </div>`
                questionDisplay.insertAdjacentHTML("beforeend", text);
            }
        }

        function printAnswers(questionArray, markSchemeArray, answerDisplay){
            for (let i=0; i <questionArray.length; i++){
                text = 
                `<div class="attemptQuestion">
                    <div class="attemptHeader row">
                        <div class="questionTitle col-sm-9">${i+1}. ${questionArray[i].questionContent}</div>
                        <div class="questionValue col-sm-3">[${questionArray[i].markValue} mark]</div>
                    </div>
                    
                    <div class="attemptAnswer">
                        <div>
                            <p>Answer: ${markSchemeArray[i].contentAnswer}</p>
                        </div>
                    </div>
                </div>`
                answerDisplay.insertAdjacentHTML("beforeend", text);
            }
        }
        
        // Displaying one Exam process
        // All questions created in one array, some questions are linked to some exams
        let questionArray = new Array(
            new Question(1, "When was the first computer invented?", 1, 1),
            new Question(2, "What was the name of the first computer invented?", 1, 2),
            new Question(3, "Who is known as the father of computers?", 1, 3),
            new Question(4, "What was the first mass-produced computer?", 1, 4),
            new Question(5, "What is Computer programming?", 2, 5),
            new Question(6, "How does programming work?", 3, 6),
            new Question(7, "When a syntax error occurs?", 1, 7),
            new Question(8, "When a runtime error occurs?", 3, 8),
            new Question(9, " What are reserved words?", 1, 9),
        );

        let markSchemeArray = new Array(
            new MarkScheme(1, '1943'),
            new MarkScheme(2, 'Electronic Numerical Integrator and Computer (ENIAC)'),
            new MarkScheme(3, 'Charles Babbage'),
            new MarkScheme(4, 'IBM 650'),
            new MarkScheme(5, 'Computer Programming is also known as programming or coding. Programming is a process which includes processes such as coding, maintaining, updating, debugging, writing, designing (algorithm), etc'),
            new MarkScheme(6, 'Programming contains a set of instructions for the computer to perform different tasks. In fact, those instructions are executable commands, each having a different purpose'),
            new MarkScheme(7, 'A syntax error occurs when the program violates one or more grammatical rules of the programming language. These errors are detected at compile time, i.e., when the translator (compiler or interpreter) attempts to translate the program'),
            new MarkScheme(8, 'A runtime error occurs when the computer is directed to perform an illegal operation by the program such as dividing a number by zero. Runtime errors are the only errors which are displayed immediately during the execution of a program. When these errors occur, the computer stops the execution of the programming and can display a diagnostic message that will help in locating the error'),
            new MarkScheme(9, 'Reserved words or keywords are the words, which have predefined meanings. They have predefined uses and cannot be used or redefined for any other purpose in a programming language'),
        );

        let traineeAnswers =  new Array(
            "1980",
            "Programming follows a set of instructions that the computer follows...",
            "Syntax error occurs when a code if not properly formatted",
        );

        // Displaying trainee question attempt
        const questionDisplay = document.querySelector(".questionList");
        printQuestions(questionArray, traineeAnswers, questionDisplay);

        // Displaying answers
        const answerDisplay = document.querySelector(".answerList");
        printAnswers(questionArray, markSchemeArray, answerDisplay);

    </script>
    
</body>